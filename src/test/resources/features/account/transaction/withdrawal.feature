Feature: 口座引き出し
  As a 銀行の顧客
  I can 口座から引き出す
  so that 必要な時に現金を取得できる

  Background:
    Given 口座番号 "12345" で名義人 "田中太郎" で初期残高 10000.0 円の普通預金口座が存在する

  Scenario: 通常の引き出し取引を実行する
    Given 口座残高が 10000.0 円である
    When 顧客が 3000.0 円を引き出す
    Then 口座残高が 7000.0 円になることを確認する
    And 取引履歴に引き出し取引が記録されることを確認する

  Scenario: 残高不足による引き出しを拒否する
    Given 口座残高が 10000.0 円である
    When 顧客が 15000.0 円の引き出しを試行する
    Then 取引が拒否されることを確認する
    And エラーメッセージが表示されることを確認する
    And 口座残高が 10000.0 円のままであることを確認する

  Scenario: 負の金額での引き出しを拒否する
    Given 口座残高が 10000.0 円である
    When 顧客が -1000.0 円の引き出しを試行する
    Then 取引が拒否されることを確認する
    And エラーメッセージが表示されることを確認する
    And 口座残高が 10000.0 円のままであることを確認する

  Scenario: ゼロ円での引き出しを拒否する
    Given 口座残高が 10000.0 円である
    When 顧客が 0.0 円の引き出しを試行する
    Then 取引が拒否されることを確認する
    And エラーメッセージが表示されることを確認する
    And 口座残高が 10000.0 円のままであることを確認する
